<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poornima BackBenchers</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- CSS STYLES --- */
        :root {
            --primary: #ffcc00;
            --dark: #1a1a1a;
            --light: #f4f4f4;
            --accent: #ff4757;
            --card-bg: #2d2d2d;
            --mad-color: #00d2d3;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background-color: var(--dark); color: var(--light); overflow-x: hidden; padding-bottom: 60px; }

        /* Background & Nav */
        #bgCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.3; }
        nav { display: flex; justify-content: space-between; align-items: center; padding: 1rem 5%; background: rgba(26, 26, 26, 0.95); border-bottom: 2px solid var(--primary); position: sticky; top: 0; z-index: 1000; }
        .logo { font-size: 1.5rem; font-weight: bold; color: var(--primary); text-transform: uppercase; letter-spacing: 2px; }
        .nav-links button { background: none; border: none; color: var(--light); font-size: 1rem; margin-left: 20px; cursor: pointer; transition: 0.3s; }
        .nav-links button:hover, .nav-links button.active { color: var(--primary); }

        /* Sections */
        .container { padding: 2rem 5%; min-height: 80vh; display: none; animation: fadeIn 0.5s ease; }
        .container.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        h1 { font-size: 2.5rem; color: var(--primary); border-bottom: 2px solid #333; padding-bottom: 10px; }
        h2.subject-header { margin-top: 40px; background: linear-gradient(90deg, #333, transparent); padding: 10px; border-left: 5px solid var(--primary); }
        h2.subject-header.mad { border-left-color: var(--mad-color); }

        /* Note Cards */
        .notes-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 20px; }
        .note-card { background: var(--card-bg); padding: 20px; border-radius: 10px; border: 1px solid #444; transition: 0.3s; position: relative; overflow: hidden; }
        .note-card:hover { transform: translateY(-5px); border-color: #666; }
        .note-card::before { content: ''; position: absolute; top: 0; left: 0; width: 5px; height: 100%; background: var(--primary); }
        .note-card.mad::before { background: var(--mad-color); }
        
        .download-btn { display: block; width: 100%; padding: 12px; margin-top: 15px; background: #444; color: white; text-align: center; text-decoration: none; border-radius: 5px; transition: 0.3s; font-weight: bold; cursor: pointer; }
        .download-btn:hover { background: var(--primary); color: var(--dark); }
        .note-card.mad .download-btn:hover { background: var(--mad-color); }
        
        /* Admin Panel */
        .admin-panel { margin-top: 50px; padding: 30px; border: 2px dashed #555; border-radius: 15px; text-align: center; background: rgba(0,0,0,0.2); }
        .cta-btn { padding: 12px 30px; background: var(--primary); color: var(--dark); border: none; font-weight: bold; font-size: 1.2rem; cursor: pointer; border-radius: 50px; }
        .warning-banner { background-color: var(--accent); color: white; text-align: center; padding: 10px; font-weight: bold; position: fixed; bottom: 0; width: 100%; z-index: 1000; }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid var(--primary); border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; display: none; margin: 10px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* Important Qs */
        .imp-alert { background: rgba(255, 71, 87, 0.1); border: 1px solid var(--accent); padding: 15px; border-radius: 5px; margin-bottom: 20px; color: #ff8a93; display: flex; align-items: center; gap: 10px; }
        details { background: var(--card-bg); margin-bottom: 15px; border-radius: 8px; border: 1px solid #444; }
        summary { padding: 15px; cursor: pointer; font-weight: bold; background: #333; list-style: none; display: flex; justify-content: space-between; }
        .answer-content { padding: 20px; border-top: 1px solid #555; white-space: pre-line; color: #ddd; }
    </style>
</head>
<body>

    <canvas id="bgCanvas"></canvas>

    <nav>
        <div class="logo"><i class="fas fa-graduation-cap"></i> Poornima BackBenchers</div>
        <div class="nav-links">
            <button onclick="showPage('home')" class="active">Home</button>
            <button onclick="showPage('notes')">Notes</button>
            <button onclick="showPage('important')">Importantes</button>
            <button onclick="showPage('about')">About</button>
        </div>
    </nav>

    <!-- HOME -->
    <div id="home" class="container active">
        <div class="hero" style="text-align: center; margin-top: 10vh;">
            <h2 style="font-size: 3rem;">Studying Hard or <span style="color:var(--primary)">Hardly Studying?</span></h2>
            <p>Get the best notes and important questions for ADS & MAD.</p>
            <br>
            <button class="cta-btn" onclick="showPage('important')">Check Important Questions</button>
        </div>
        
        <div class="admin-panel">
            <h3><i class="fas fa-user-shield"></i> Admin Zone</h3>
            <p>Upload new Notes directly from your device.</p>
            <input type="file" id="fileInput" style="display: none;" accept=".pdf,.jpg,.png,.doc,.txt">
            <button onclick="triggerUpload()" class="cta-btn" style="background: #444; color: white; font-size: 1rem; margin-top:10px;">
                <i class="fas fa-upload"></i> Upload File
            </button>
            <div class="loader" id="uploadLoader"></div>
            <p id="uploadStatus" style="margin-top: 10px; font-size: 0.9rem;"></p>
            <br>
            <button onclick="clearAllData()" style="background: #ff4757; border: none; color: white; padding: 5px 10px; cursor: pointer; border-radius: 4px;">Reset All Data</button>
        </div>
    </div>

    <!-- NOTES -->
    <div id="notes" class="container">
        <h1>Course Notes</h1>
        <div class="imp-alert"><i class="fas fa-exclamation-triangle"></i> <strong>WARNING:</strong> Important upload timing: 5.30pm, One day before exam.</div>

        <!-- ADS -->
        <h2 class="subject-header">ADS (Advanced Data Structure)</h2>
        <div class="notes-grid" id="ads-grid">
            <!-- System Default Notes -->
            <div class="note-card">
                <h3>Unit 1: Hashing</h3>
                <p>Collision removing techniques.</p>
                <a onclick="generateDummyPDF('ADS_Unit1.txt')" class="download-btn">Download PDF</a>
            </div>
        </div>

        <!-- MAD -->
        <h2 class="subject-header mad">MAD (Mobile App Dev)</h2>
        <div class="notes-grid" id="mad-grid">
            <div class="note-card mad">
                <h3>Unit 1: Android Basics</h3>
                <p>Activity Lifecycle, Intents.</p>
                <a onclick="generateDummyPDF('MAD_Unit1.txt')" class="download-btn">Download PDF</a>
            </div>
        </div>
    </div>

    <!-- IMPORTANT -->
    <div id="important" class="container">
        <h1>Important Questions</h1>
        <div class="imp-alert"><i class="fas fa-exclamation-triangle"></i> <strong>WARNING:</strong> Important upload timing: 5.30pm, One day before exam.</div>
        
        <details><summary>UNIT 1: Hashing</summary><div class="answer-content">Q: Explain Collision removing techniques...</div></details>
        <details><summary>UNIT 2: Heaps</summary><div class="answer-content">Q: Binary Heap & Binomial Queue...</div></details>
        <details><summary>UNIT 3: Trees</summary><div class="answer-content">Q: AVL Trees & Red-Black Trees...</div></details>
        <details><summary>UNIT 4: Graphs</summary><div class="answer-content">Q: Dijkstra & Bellman-Ford Algorithms...</div></details>
    </div>

    <!-- ABOUT -->
    <div id="about" class="container">
        <h1>About Us</h1>
        <p>We help you pass exams with minimum effort.</p>
    </div>

    <div class="warning-banner">DISCLAIMER: This website is made only for educational purposes. Take it at your own risk.</div>

    <script>
        // --- NAVIGATION ---
        function showPage(pageId) {
            document.querySelectorAll('.container').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            document.querySelectorAll('.nav-links button').forEach(b => b.classList.remove('active'));
        }

        // --- FAKE DOWNLOAD (For default files) ---
        function generateDummyPDF(filename) {
            const textContent = "This is a dummy file for: " + filename + "\n\nImagine this is full of useful notes!";
            const blob = new Blob([textContent], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = filename; 
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }

        // --- UPLOAD LOGIC (Base64 LocalStorage) ---
        function triggerUpload() {
            const password = prompt("Enter Admin Password:");
            if (password === "admin123") {
                document.getElementById('fileInput').click();
            } else {
                alert("Wrong Password!");
            }
        }

        document.getElementById('fileInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (!file) return;

            if (file.size > 2 * 1024 * 1024) {
                alert("File too large! Please upload files smaller than 2MB.");
                return;
            }

            const subject = prompt("Subject (ADS / MAD)?", "ADS").toUpperCase();
            const title = prompt("Enter Note Title:", file.name);
            
            if (!title) return;

            const loader = document.getElementById('uploadLoader');
            const status = document.getElementById('uploadStatus');
            loader.style.display = "block";
            status.innerText = "Processing File...";

            const reader = new FileReader();
            reader.onload = function(event) {
                const base64String = event.target.result;
                saveNoteToStorage(subject, title, base64String, file.name);
                loader.style.display = "none";
                status.innerText = "Upload Complete!";
                alert("File Uploaded Successfully!");
            };
            reader.readAsDataURL(file);
        });

        function saveNoteToStorage(subject, title, fileData, fileName) {
            let notes = JSON.parse(localStorage.getItem('poornima_notes_db')) || [];
            notes.push({ 
                id: Date.now(), 
                subject: subject, 
                title: title, 
                fileData: fileData,
                fileName: fileName
            });
            localStorage.setItem('poornima_notes_db', JSON.stringify(notes));
            loadNotes(); 
        }

        // --- LOAD NOTES ---
        function loadNotes() {
            const dynamicCards = document.querySelectorAll('.dynamic-card');
            dynamicCards.forEach(card => card.remove());

            let notes = JSON.parse(localStorage.getItem('poornima_notes_db')) || [];
            
            notes.forEach(note => {
                createNoteCard(note);
            });
        }

        function createNoteCard(note) {
            const card = document.createElement('div');
            const isMad = note.subject === 'MAD';
            card.className = isMad ? 'note-card mad dynamic-card' : 'note-card dynamic-card';
            
            card.innerHTML = `
                <h3>${note.title}</h3>
                <p>Uploaded by Admin</p>
                <a href="${note.fileData}" download="${note.fileName}" class="download-btn">
                    <i class="fas fa-download"></i> Download File
                </a>
                <button onclick="deleteNote(${note.id})" style="margin-top:5px; color:red; background:none; border:none; cursor:pointer; width:100%;">Delete (Admin)</button>
            `;

            if (isMad) document.getElementById('mad-grid').appendChild(card);
            else document.getElementById('ads-grid').appendChild(card);
        }

        function deleteNote(id) {
            const password = prompt("Enter Admin Password to Delete:");
            if (password === "admin123") {
                let notes = JSON.parse(localStorage.getItem('poornima_notes_db')) || [];
                notes = notes.filter(note => note.id !== id);
                localStorage.setItem('poornima_notes_db', JSON.stringify(notes));
                loadNotes();
                alert("Note Deleted.");
            }
        }

        function clearAllData() {
            if(confirm("Are you sure? This will delete ALL uploaded notes.")) {
                localStorage.removeItem('poornima_notes_db');
                loadNotes();
                alert("Reset Complete.");
            }
        }

        // Initialize
        window.onload = function() {
            loadNotes();
            initParticles(); 
            animate();
        };

        // --- CANVAS ANIMATION ---
        const canvas = document.getElementById('bgCanvas');
        const ctx = canvas.getContext('2d');
        let width, height, particles = [];

        function initParticles() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            particles = [];
            for (let i = 0; i < 40; i++) {
                particles.push({
                    x: Math.random() * width, y: Math.random() * height,
                    vx: (Math.random() - 0.5), vy: (Math.random() - 0.5)
                });
            }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            particles.forEach((p, i) => {
                p.x += p.vx; p.y += p.vy;
                if (p.x < 0 || p.x > width) p.vx *= -1;
                if (p.y < 0 || p.y > height) p.vy *= -1;
                ctx.beginPath(); ctx.arc(p.x, p.y, 2, 0, Math.PI*2);
                ctx.fillStyle = '#ffcc00'; ctx.fill();
                particles.forEach((p2, j) => {
                    if (i !== j) {
                        let d = Math.sqrt((p.x-p2.x)**2 + (p.y-p2.y)**2);
                        if (d < 100) {
                            ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y);
                            ctx.strokeStyle = `rgba(255, 204, 0, ${1 - d/100})`; ctx.stroke();
                        }
                    }
                });
            });
            requestAnimationFrame(animate);
        }
        window.onresize = initParticles;

    </script>
</body>
</html>